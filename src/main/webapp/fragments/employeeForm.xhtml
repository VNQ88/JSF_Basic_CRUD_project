<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:panelGroup rendered="#{employeeBean.formVisible}">
        <div class="employee-form">

            <h3>
                #{employeeBean.editMode ? 'Update Employee' : 'Add Employee'}
            </h3>

            <h:panelGroup rendered="#{employeeBean.editMode}">
                <div class="form-field">
                    <label>Employee ID:</label>
                    <h:outputText value="#{employeeBean.currentEmployee.employeeCode}"
                                  style="font-weight:bold;color:#333;margin-left:10px;" />
                </div>
            </h:panelGroup>

            <div class="form-field">
                <label>Full Name:</label>

                <h:inputText id="employeeName"
                             value="#{employeeBean.currentEmployee.employeeName}"
                             required="true"
                             requiredMessage="Please enter the employee's full name.">
                    <f:ajax event="blur" render="nameMsg" />
                </h:inputText>

                <h:message id="nameMsg" for="employeeName"
                           style="color:red;font-style:italic;margin-left:5px;" />
            </div>

            <div class="form-field">
                <label>Date of Birth:</label>

                <p:datePicker id="dateOfBirth"
                              value="#{employeeBean.currentEmployee.dateOfBirth}"
                              pattern="dd/MM/yyyy"
                              showIcon="true"
                              monthNavigator="true"
                              yearNavigator="true"
                              yearRange="1900:2025"
                              required="true"
                              requiredMessage="Please select the employee's date of birth." />

                <h:message for="dateOfBirth"
                           style="color:red;font-style:italic;margin-left:5px;" />
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <h:commandButton value="Save"
                                 action="#{employeeBean.saveEmployee()}">
                    <f:ajax execute="@form" render=":employeeForm:content" />
                </h:commandButton>

                <h:commandButton value="Cancel"
                                 action="#{employeeBean.cancel}"
                                 immediate="true">
                    <f:ajax execute="@this" render=":employeeForm:content" />
                </h:commandButton>
            </div>

        </div>
    </h:panelGroup>
</ui:composition>
