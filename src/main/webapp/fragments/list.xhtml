<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:panelGroup rendered="#{!employeeBean.formVisible}">
        <div style="text-align: center; margin-bottom: 10px;">
            <h:commandButton value="Add New Employee"
                             action="#{employeeBean.showAddForm}">
                <f:ajax execute="@this" render=":employeeForm:content" />
            </h:commandButton>
        </div>

        <h:dataTable id="employeeTable" value="#{employeeBean.employees}"
                     var="employee" styleClass="employee-table"
                     headerClass="employee-table-header"
                     rowClasses="employee-table-row">

            <h:column>
                <f:facet name="header">Employee ID</f:facet>
                <h:outputText value="#{employee.employeeCode}" />
            </h:column>

            <h:column>
                <f:facet name="header">Full Name</f:facet>
                <h:outputText value="#{employee.employeeName}">
                    <f:converter converterId="titleCaseNameConverter" />
                </h:outputText>
            </h:column>

            <h:column>
                <f:facet name="header">Age</f:facet>
                <h:outputText value="#{employee.employeeAge}" />
            </h:column>

            <h:column>
                <f:facet name="header">Date of Birth</f:facet>
                <h:outputText value="#{employee.dateOfBirth}">
                    <f:converter converterId="multiDateConverter" />
                </h:outputText>
            </h:column>

            <h:column>
                <f:facet name="header">Actions</f:facet>

                <h:commandButton value="Edit"
                                 action="#{employeeBean.showEditForm(employee)}">
                    <f:ajax execute="@this" render=":employeeForm:content" />
                </h:commandButton>

                <h:commandButton value="Delete"
                                 action="#{employeeBean.deleteEmployee(employee)}"
                                 onclick="return confirm('Are you sure you want to delete this employee?');">
                    <f:ajax execute="@this" render=":employeeForm:content" />
                </h:commandButton>
            </h:column>

        </h:dataTable>
    </h:panelGroup>
</ui:composition>
